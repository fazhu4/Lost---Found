import{l as C}from"./loadingTwo-B22X4bSV.js";import{r as K,u as J}from"./request-CF48CgIe.js";import{_ as W,r as n,o as E,c as A,u as F,a as o,w as f,b as s,d as u,e as m,f as i,g as Y,h as b,E as R}from"./index-BMKu-6gW.js";import{T as N}from"./v-scale-screen-C2c8qu3f.js";const Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAACXCAMAAABJG8UcAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHjUExURQAAAP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7EOGvYAAAChdFJOUwBUpwT7/6tp6JkaaumaG2vq65scbG3snB1u7Z0eb+6eH4sQj58gD46gIQ6hIo0NoiOMDKMkC6QliqUmCommJwmIKAiHqCkHqSqGBqorhQUshKwtg60uA4KuLwKBrzABgLAxf7H+MrJ+/TOzffw0tDV8tTZ7+rY3evm3OHm4+Dl4ufc61xi6O7s8vD29Pr4/v3Dv8HHxcvJz83R19Hb1d/bDaBYkYAAAAAlwSFlzAAAywAAAMsABKGRa2wAAA85JREFUeF7t3elbjHEUxvGn5cku+77vijAp+04Rsu/ZihAi+xIiJJQhSUn8qRruaWbqzP3KC/e5fF+1nDefy+WqZn6/8wT/WBmZWfjIXxnZYY5X3aDBYRgOGYrPfDVseK/NqQ62MBwxEl/xU+4o2BzqckdDFmvMWHzVR+OSbc504ydAFW/iJHxHvwE2R7rJUyBKbuo0fFc70+ZEN30GNP2bOQsTuqW1edDNhsRK/rfoOXMhsZo3H1OqLVgIidWixZhSzbcuj+nyl2BKtbylkFjJ6wqYbtlyTKlWsAISK3ldhOkKV2JKtQj7aS6vK2K64lWYUq1oNSRWa3zr1mJKtXXrIbHa4Fu3EVOqbdoMiVWmb90WTKm2dRskVtt963ZgSrUSpivdiSnVSnZBYiWvK2O63XswpVrZXkis5HXlTJezD1Oqle+HxEpel8V0Bw5iSrWsQ5BY+dYdPoIp1Y4eg8TquG/dCUypdvIUJFYVvnWnMaXambOQWJ3zrTuPKdkqIbGq0tddAMWo6iKGZGO6anndpcugGFVfwZBsTFcjr7t6DRSjmusYko3pam9gSLabvnXZoBjV3cKQbLd96+6AYnT3HoZku+9b9wAUo4ePMCTbY6Kr19c9AcWo/imGZHtGdA36uuegGDW8wFCsSsUaIbFqfAlZb/iSo169Bs0jLmx6A5tHXEKHz33V/NYxLq7DZ956994xLmyJ6fCxv1paHePCD62OcWHF/385yTz/n4vZvOI8/5z7Y/OJ8/y7ZdzmEdfs+O+5xN+qvl9DUSz6ERCjpsQrKJJFPwFilPTqkGRtzJb8qqVgbZ8BMUp5RVawdmYTfy29/QsgRurvgnQwm/j7Vx1fATFSt3USm/q7qtQm/n541zdAjNTf66c28TMo3d8BMVI/X+PZ1vMDEKM68TNtzKZ+Xq+HnF6oFT9Hyk5mqJ+RZWdq1E83s9NQ6ufS2Tk2dRs7gah+W4KdHVW/58JO/arfUGI29btl7KS9+q1AZlO/z8lut7i2id8yZjfK1O+HU5v4zX52i1N9J4NrGxxW4ptC6J131zbt7Tx0z4T45iHXNrbbRXzbF91bo25j+5TEN+zRXVHqNrbDrFR7qyXdPie+sZPuDRS30Y2P4lty6a5OcRvdsiq+u5naxLdu083G6vvS2TOHfkYwpBp5w1t+i38QdKfTyT9dIlaaQyYubEHQZemK1Z95Es842CX/PJdEnf11herPGUqu32FK+WcopZZyfNmZLUUn/9yygfVdGXBo69Plqz8r0O73NR355yCmK+rgd+X0Rf+eLQh+AWU91IJvsY85AAAAAElFTkSuQmCC",G=({account:p,password:c})=>K.get("/login",{params:{account:p,password:c}}),X=({name:p,account:c,password:w,email:v})=>K.post("/register",{name:p,account:c,password:w,email:v}),D={class:"loginIndex"},M={key:0,class:"contain"},P={class:"select"},j={class:"rightButton"},h={key:0,class:"forget"},L={__name:"login",setup(p){const c=Y(),w=J(),v=n(null),Z=n(null),k=n(0),_=n(null),y=n(!1),l=n("login"),a=n({name:"",email:"",account:"",password:"",remember:!1}),g=n("contain"),U=async()=>{g.value="loading";const t=await G({account:a.value.account,password:a.value.password});t.code===200?(localStorage.setItem("authToken",JSON.stringify(t.data.token)),console.log(w.profile),c.push("/home"),R({message:"欢迎使用风影捕手",type:"success"}),g.value="contain"):t.code===500&&(g.value="contain",R({message:t.msg,type:"warning"})),console.log(t)},B=async()=>{const t=await X({name:a.value.name,account:a.value.account,password:a.value.password,email:a.value.email});t.code===200&&(a.value={email:"",account:"",password:"",remember:!1},l.value="login"),console.log(t)},T=n({email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:(t,e,d)=>{/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?d():d(new Error("邮箱格式不正确，请检查后重新输入"))},trigger:"blur"}],account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),q=n(null),V=()=>{q.value.validate(t=>{if(t)l.value==="register"?B():l.value==="login"&&U(),console.log("表单提交:",a.value);else return console.log("表单验证失败"),!1})},I=()=>{if(y.value)v.value.classList.add("animate__animated","animate__fadeOut"),v.value.addEventListener("animationend",()=>{k.value=!k.value});else return},S=()=>{l.value="register",a.value={email:"",account:"",password:"",remember:!1}},H=()=>{l.value="login",a.value={email:"",account:"",password:"",remember:!1}};return E(()=>{_.value.classList.add("animate__animated","animate__fadeInRight","animate__slow"),_.value.addEventListener("animationend",()=>{y.value=!y.value})}),(t,e)=>{const d=b("el-input"),x=b("el-form-item"),O=b("el-checkbox"),z=b("el-form");return o(),A(F(N),{width:"1920",height:"1080"},{default:f(()=>[s("div",D,[k.value?(o(),u("div",{key:1,class:"nextIndex",ref_key:"nextIndex",ref:Z},[g.value==="contain"?(o(),u("div",M,[e[11]||(e[11]=s("div",{class:"allBg"},null,-1)),e[12]||(e[12]=s("div",{class:"nextTitle"},null,-1)),e[13]||(e[13]=s("div",{class:"welcome"},"欢迎使用风影捕手",-1)),m(z,{ref_key:"formRef",ref:q,model:a.value,rules:T.value,class:"forms","label-position":"top"},{default:f(()=>[l.value==="register"?(o(),A(x,{key:0,label:"邮箱",prop:"email"},{default:f(()=>[m(d,{onInput:e[0]||(e[0]=r=>{console.log("输入值:",r)}),modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.email=r),class:"inputs",placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})):i("",!0),m(x,{label:"账号",prop:"account",style:{"margin-top":"35px"}},{default:f(()=>[m(d,{modelValue:a.value.account,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.account=r),class:"inputs",placeholder:"请输入账号",type:"account"},null,8,["modelValue"])]),_:1}),m(x,{label:"密码",prop:"password",style:{"margin-top":"35px"}},{default:f(()=>[m(d,{modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.password=r),class:"inputs",placeholder:"请输入密码",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s("div",P,[l.value==="login"?(o(),A(O,{key:0,modelValue:a.value.remember,"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.remember=r),label:"记住密码"},null,8,["modelValue"])):i("",!0),s("div",j,[l.value==="login"?(o(),u("div",h,"忘记密码")):i("",!0),l.value==="register"?(o(),u("div",{key:1,class:"forget",onClick:H},"返回登录")):i("",!0),l.value==="login"?(o(),u("div",{key:2,class:"accounts",onClick:S},"注册")):i("",!0)])])]),_:1},8,["model","rules"]),l.value==="login"?(o(),u("div",{key:0,class:"loginChecked",onClick:V},"确认登录")):i("",!0),l.value==="register"?(o(),u("div",{key:1,class:"loginChecked",onClick:V},"确认注册")):i("",!0)])):i("",!0),g.value==="loading"?(o(),A(C,{key:1})):i("",!0)],512)):(o(),u("div",{key:0,class:"firstIndex",ref_key:"firstIndex",ref:v},[e[6]||(e[6]=s("div",{class:"shadow"},null,-1)),e[7]||(e[7]=s("div",{class:"circle"},null,-1)),e[8]||(e[8]=s("div",{class:"title animate__animated animate__fadeInRight animate__slow"},"Data changes the future",-1)),e[9]||(e[9]=s("div",{class:"bottome animate__animated animate__fadeInRight animate__slow"},null,-1)),e[10]||(e[10]=s("div",{class:"names animate__animated animate__fadeInRight animate__slow"},"风影捕手 多模态谣言识别检测系统",-1)),s("button",{class:"button",onClick:I,ref_key:"buttons",ref:_},e[5]||(e[5]=[s("div",{class:"write"},"立即登录",-1),s("div",{class:"icons"},[s("img",{src:Q,alt:"",class:"arrow"})],-1)]),512)],512))])]),_:1})}}},le=W(L,[["__scopeId","data-v-1b919c4c"]]);export{le as default};
